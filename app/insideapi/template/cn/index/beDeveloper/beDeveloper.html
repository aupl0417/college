
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/arttemplate/template.js"></script>
<!-- 核心js end -->

<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/select2/select2.min.js"></script><!-- select2下拉框 -->
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/moment/moment.js"></script>
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/moment/locale/zh-cn.js"></script>
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/bootstrap-modal/js/bootstrap-modalmanager.js"></script><!-- 模态框 -->
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery-validation/js/jquery.validate.min.js"></script><!-- 表单验证 -->
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery-validation/js/additional-methods.min.js"></script><!-- 表单验证 -->
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery.form.js"></script><!-- 表单提交 -->
<script src="{_TEMP_PUBLIC_}/assets/global/scripts/submit.js" type="text/javascript"></script> <!-- 表单提交新方法 -->

<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/datatables/media/js/jquery.dataTables.js"></script><!-- dataTables -->
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script><!-- dataTables -->
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/datatables/extensions/FixedHeader/js/dataTables.fixedHeader.js"></script><!-- dataTables 固定表头 -->

<script src="{_TEMP_PUBLIC_}/assets/global/scripts/datatable.js" type="text/javascript"></script>

<script src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery.pulsate.min.js" type="text/javascript"></script> <!-- 震动提示 -->
<script type="text/javascript" src="{_TEMP_PUBLIC_}/assets/global/plugins/bootbox/bootbox.min.js"></script><!-- 模态框对话框 -->
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/jquery-bootpag/jquery.bootpag.min.js" type="text/javascript"></script><!-- 模态框对话框 -->
<script src="{_TEMP_PUBLIC_}/assets/global/plugins/bootstrap-confirmation/bootstrap-confirmation.min.js" type="text/javascript"></script><!-- 模态框对话框 -->

<script src="{_TEMP_PUBLIC_}/assets/global/plugins/autosize/autosize.min.js" type="text/javascript"></script>

<!-- global js -->
<script src="{_TEMP_PUBLIC_}/assets/global/scripts/global.js" type="text/javascript"></script>
<!-- global js end -->

<!-- common开始 -->
<div class="container-fluid pb20 margin-bottom-30" style="min-height: 790px;min-width: 1200px;">
	<div class="row no-space">
		<!-- 左边这一块的模板开始 -->
		<div class="col-xs-2">
			<!--<div class="common-left">
				<h4>所有类目</h4>
				<ul style="display: none">
					<li id="page{ic_id}">
						<a href="javascript:;"><i class="fa fa-caret-right"></i>应用管理</a>
						<ul>
							<li>
								<a href="/index/appManager/"> 应用列表</a>
							</li>
							<li>
								<a href="javascript:;">添加应用</a>
							</li>
						</ul>
						<a href="javascript:;"><i class="fa fa-caret-right"></i>API收费管理</a>
						<ul>
							<li>
								<a href=""> 收费说明</a>
							</li>
							<li>
								<a href="/index/check/">本月账单</a>
							</li>
							<li>
								<a href="javascript:;">我的订单</a>
							</li>
						</ul>
					</li>
				</ul>
			</div>-->
		</div>
		<!-- 左边这一块的模板结束 -->

		<!-- 右边这一块的模板开始 -->
		<div class="col-xs-8">
			<div class="portlet light no-margin">
				<div class="page-bar no-margin">
					<!-- 导航 -->
					<ul class="page-breadcrumb">
						<li><i class="fa fa-home"></i> <a href="">控制台</a> <i class="fa fa-angle-right"></i> </li>
						<li><a href=""> 资料管理</a><i class="fa fa-angle-right"></i></li>
						<li><a href=""> 开发者资料</a></li>
					</ul>
				</div>
			</div>

			<div class="portlet light no-margin">
				<div class="portlet-title">
					<div class="caption padding-top-25"><i class="fa fa-file-text-o"></i>开发者资料完善</div>
				</div>
				<div class="portlet-body">
					<div class="alert alert-info">
						请完善以下信息，以便于我们为您提供更好的服务。
					</div>
					<form class="form-horizontal form-row-seperated" id="form_cashout" method="post" action="/index/beDeveloper.json" onsubmit="return false">
						<table class="table responsive-form-table row no-space">
							<tbody>
							<replace value="u_nick|u_type|u_level|name|u_tel|u_email">
								<tr>
									<th class="borderd col-xs-2">账号</th>
									<td class="borderd col-xs-10" data-title="账号">
										<input type="text" readonly class="form-control" placeholder="{u_nick}">
									</td>
								</tr>
								<tr>
									<th>用户等级</th>
									<td data-title="用户等级">
										<input type="text" readonly class="form-control" placeholder="{u_level}">
									</td>
								</tr>
								<tr>
									<th>身份</th>
									<td data-title="身份">
										<input type="text" readonly class="form-control" placeholder="{u_type}">
									</td>
								</tr>
								<tr>
									<th>姓名/公司名称</th>
									<td data-title="姓名/公司名称">
										<input type="text" readonly class="form-control" placeholder="{name}">
									</td>
								</tr>
								<tr>
									<th>开发者联系人</th>
									<td data-title="开发者联系人">
										<input type="text" class="form-control" name="dp_contact" value="{name}">
									</td>
								</tr>
								<tr>
									<th>开发者联系电话</th>
									<td data-title="开发者联系电话">
										<input type="text" class="form-control" name="dp_tel" value="{u_tel}">
									</td>
								</tr>
								<tr>
									<th>开发者联系邮箱</th>
									<td data-title="开发者联系邮箱">
										<input type="text" class="form-control" name="dp_email" value="{u_email}">
									</td>
								</tr>
							</replace>
							<tr>
								<th class="hidden-sm col-md-2">验证码：</th>
								<td data-title="验证" class="col-sm-12 col-md-4">
									<input id="code" name="code" type="text" class="form-control" placeholder="点击输入验证码" value="" autocomplete="off">
									<div class="display-hide code-tip" style="padding: 10px 0; color: #cc0000;">请输入验证码</div>
									<div id="html_verification_code" class="display-hide"><img id="img_verification_code" width="100" alt="" src=""></div>
								</td>
							</tr>
								<tr>
									<th></th>
									<td>
										<label><input type="checkbox" name="agree" value="1">我已阅读并同意<a href="" class="font-blue">《大唐开放平台服务协议》</a></label>
									</td>
								</tr>
								<tr>
									<th></th>
									<td>
										<input type="submit" class="btn btn-sm blue table-group-action-submit ajaxify" value="提交审核">
										<!--<a href="#" class="btn btn-sm blue table-group-action-submit ajaxify">提交审核</a>-->
									</td>
								</tr>
							</tbody>
						</table>
					</form>
				</div>
			</div>

		</div>
	</div>
</div>

<script>
	$('#form_cashout').handleForm(
			{
				rules: {
					'dp_contact': {
						required: true
					},
					'dp_tel': {
						required: true,
						ismobile: true
					},
					'dp_email': {
						required: true
					},
					'code': {
						required: true
					},
				},
				messages: {
					'dp_contact': {
						required: '运营者姓名必须填'
					},
					'dp_tel': {
						required: '运营者手机号必须填',
						ismobile: '输入的手机格式错误'
					},
					'dp_email': {
						required: '运营者邮箱必须填'
					},
					'code': {
						required: '验证码必须填写'
					},
				},
				closest: 'td',
			},
			function(data, statusText){
				if(data.id == '1001'){
					data.msg = '<p>提交成功,审核时间1-3个工作日</p>';
					bootbox.alert(data.msg, function() {
						window.location.href=data.info;
					});
				}
				else{
					data.msg = data.info || data.msg;
					Global.alert( {
						"container": "#form_cashout",
						"place": "prepend",
						"type": "warning",
						"message": data.msg,
						"close": true,
						"reset": true,
						"focus": true,
						"closeInSeconds": "0",
						"icon": "warning"
					});
				}
			}
	);
</script>

<script>
	$(function() {
		$('.common-left > ul li a').click(function() {
			$(this).siblings('ul').stop(true, true).slideToggle(500);
		});
	});
	var currentPage = $('#currentPage').val();
	if (currentPage != undefined) {
		$('.common-left a#page' + currentPage).addClass('active');
	}
	//顶部导航选中效果脚本
	var curPage = $('#curPage').val();
	if (curPage != undefined) {
		$('#nav' + curPage).addClass('active');
	}
</script>

<script>
	var showPopover = function () {
		$(this).popover('show').prop('placeholder','请输入验证码,点击可刷新');
		refreshCode();
	}
	var hidePopover = function () {
		$(this).popover('hide').prop('placeholder','点击显示验证码');
	}
	var refreshCode = function(){

		$('.popover #img_verification_code').attr('src','/validate/?type=code&code_len=4&font_size=16&width=100&height=30&font_color=&background=&refresh=1&time='+Math.random());
	};

	$('input[name=code]').popover({
		html : true,
		placement : 'bottom',
		content: function() {return $('#html_verification_code').html();},
		trigger: 'manual'
	}).focus(showPopover).blur(hidePopover).click(refreshCode);
</script>